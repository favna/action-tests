name: Testing Actions

on:
  push:

jobs:
  testing_actions:
    name: Testing Actions Node v${{ matrix.node }} on ${{ matrix.os }}
    runs-on: ${{ matrix.os }}
    strategy:
      matrix:
        node: [12, 14, 15, 16, 17]
        os: [ubuntu-18.04, ubuntu-20.04, macos-latest, macos-12, windows-latest]
        include:
          - node: 18
            os: ubuntu-20.04
          - node: 18
            os: macos-latest
          - node: 18
            os: macos-12
          - node: 18
            os: windows-latest
    steps:
      - name: Checkout Project
        uses: actions/checkout@2541b1294d2704b0964813337f33b291d3f8596b # tag=v3
      - name: Use Node.js v${{ matrix.node }}
        uses: actions/setup-node@56337c425554a6be30cdef71bf441f15be286854 # tag=v3
        with:
          node-version: ${{ matrix.node }}
          registry-url: https://registry.npmjs.org/
      - name: Dump GitHub context
        if: ${{ matrix.node }} == '16'
        env:
          GITHUB_CONTEXT: ${{ github.event.number }}
        run: echo "$GITHUB_CONTEXT"
